install.packages("readxl")
library(readxl)
data <- read_excel("~/Desktop/US_Births.xlsx")
# Assuming your dataframe is named US_Births_1_
US_Births$Yr_Mo <- as.character(US_Births_1_$Yr_Mo)
# Assuming your dataframe is named US_Births_1_
US_Births$Yr_Mo <- as.character(US_Births$Yr_Mo)
# Assuming your dataframe is named US_Births_1_
data$Yr_Mo <- as.character(data$Yr_Mo)
# Extract Year and Month using substr
data$Year <- substr(data$Yr_Mo, 1, 4)
data$Month <- substr(data$Yr_Mo, 5, 6)
# Convert Year and Month back to numeric if needed
data$Year <- as.numeric(data$Year)
data$Month <- as.numeric(data$Month)
install.packages("forecast")
install.packages("ggplot2")
install.packages("forecast")
install.packages("ggplot2")
baby.df <- read_excel("~/Desktop/US_Births.xlsx")
# Assuming your dataframe is named US_Births_1_
baby.df$Yr_Mo <- as.character(baby.df$Yr_Mo)
# Extract Year and Month using substr
baby.df$Year <- substr(baby.df$Yr_Mo, 1, 4)
baby.df$Month <- substr(baby.df$Yr_Mo, 5, 6)
# Convert Year and Month back to numeric if needed
baby.df$Year <- as.numeric(baby.df$Year)
baby.df$Month <- as.numeric(baby.df$Month)
print(baby.df) # print the dataframe
baby.df$Census <- with(baby.df, Admits*ALOS*12/365)
source("~/.active-rstudio-document")
install.packages("forecast")
install.packages("ggplot2")
baby.df <- read_excel("~/Desktop/US_Births.xlsx")
origin.df <- read_excel("~/Desktop/US_Births.xlsx")
# Assuming your dataframe is named US_Births_1_
baby.df$Yr_Mo <- as.character(baby.df$Yr_Mo)
# Extract Year and Month using substr
baby.df$Year <- substr(baby.df$Yr_Mo, 1, 4)
baby.df$Month <- substr(baby.df$Yr_Mo, 5, 6)
# Convert Year and Month back to numeric if needed
baby.df$Year <- as.numeric(baby.df$Year)
baby.df$Month <- as.numeric(baby.df$Month)
print(baby.df)
origindata.df <- baby.df
origindata.df <- subset(origindata.df, select = -Year)
origindata.df <- subset(origindata.df, select = -Month)
library(dplyr)
install.packages(dplyr)
install.packages("dplyr")
library(dplyr)
origindata <- origindata %>% rename(Live Births = Live_Births)
origindata <- origindata %>% rename(Live_Births = `Live Births`)
origindata.df <- origindata.df %>% rename(Live_Births = `Live Births`)
names(origindata.df)[names(origindata.df) == 'Live_Births'] <- 'LiveBirths'
names(origindata.df)[names(origindata.df) == 'LiveBirths'] <- 'Live_Births'
colnames(origindata)[colnames(origindata) == 'Live_Births'] <- 'LiveBirths'
colnames(origindata.df)[colnames(origindata.df) == 'Live_Births'] <- 'LiveBirths'
colnames(baby.df)[colnames(baby.df) == 'Live Births'] <- 'Live_Births'
baby.df$Census <- with(baby.df, Live_Births*12/365) # create the Census attribute
print(baby.df) # print the dataframe
baby.df$Census <- with(baby.df, Live_Births*12/365)
print(baby.df)
library(forecast)
library(ggplot2)
ggseasonplot(Census.ts, ylab ='Census')
# Convert 'Census' to a time series object
Census.ts <- ts(baby.df$Census, start = c(min(baby.df$Year), 1), frequency = 12)
# Plot the seasonal plot
ggseasonplot(Census.ts, ylab = 'Census')
setwd("~/Documents/sdohplace-toolkit")
print(st_crs(points_housing))
library(sf)
print(st_crs(points_housing))
housing = read.csv("SDOHPlace-DataWrangling/Affordable_Rental_Housing_Developments.csv")
cleaned_housing <- na.omit(housing)
points_housing <- st_as_sf(cleaned_housing, coords = c("Longitude", "Latitude"), crs = 3435)
zipcode <- st_read("SDOHPlace-DataWrangling/ChiZipMaster1.geojson")
tm_shape(points_housing) + tm_bubbles("Units", col = "purple", style = "sd")
library(tm_shape)
install.packages(c("sf", "tmap", "tidygeocoder", "dplyr"))
# Corrected installation line for multiple packages
install.packages("sf", "tmap", "tidygeocoder", "dplyr")
install.packages("sf", "tmap", "tidygeocoder", "dplyr")
library(tmap)
tm_shape(points_housing) + tm_bubbles("Units", col = "purple", style = "sd")
tm_shape(zipcode) + tm_polygons(col = "gray80")
zipcode_3435 <- st_transform(Chi_Zipsf, crs = 3435)
tm_shape(zipcode_3435) + tm_polygons(col = "gray80")
zipcode_3435 <- st_transform(Chi_Zipsf, crs = 3435)
zipcode_3435 <- st_transform(zipcode, crs = 3435)
tm_shape(zipcode_3435) + tm_polygons(col = "gray80")
zipcode_3435 <- st_transform(zipcode, crs = "EPSG:3435")
tm_shape(zipcode_3435) + tm_polygons(col = "gray80")
tm_shape(points_housing) + tm_bubbles("Units", col = "purple", style = "sd")
print(st_crs(points_housing))
print(st_crs(zipcode_3435))
tm_shape(zipcode_3435) + tm_polygons(col = "gray80") +
tm_shape(points_housing) + tm_bubbles("Units", col = "purple", style = "sd")
housing_4326 <- st_transform(points_housing, crs = "EPSG:4326")
housing_4326 <- st_transform(points_housing, crs = "EPSG:4326")
tm_shape(housing_4326) + tm_bubbles("Units", col = "purple", style = "sd")
tm_shape(zipcode_3435) + tm_polygons(col = "gray80")
print(st_crs(points_housing))
print(st_crs(zipcode_3435))
tm_shape(zipcode_3435) + tm_polygons(col = "gray80") +
tm_shape(points_housing) + tm_bubbles("Units", col = "purple", style = "sd")
# Load the necessary libraries
library(sf)
zipcode <- st_read("SDOHPlace-DataWrangling/ChiZipMaster1.geojson")
housing_4326 <- st_transform(points_housing, crs = "EPSG:4326")
tm_shape(housing_4326) + tm_bubbles("Units", col = "purple", style = "sd")
tm_shape(zipcode_3435) + tm_polygons(col = "gray80")
print(st_crs(points_housing))
print(st_crs(zipcode_3435))
tm_shape(zipcode_3435) + tm_polygons(col = "gray80") +
tm_shape(points_housing) + tm_bubbles("Units", col = "purple", style = "sd")
Chi_Zipsf <- st_read("SDOHPlace-DataWrangling/ChiZipMaster1.geojson")
AffHousing <- read.csv("SDOHPlace-DataWrangling/Affordable_Rental_Housing_Developments.csv")
AffHousing <- na.omit(AffHousing)
AffHousingSf <- st_as_sf(AffHousing,
coords = c("Longitude", "Latitude"),
crs = 4326)
tm_shape(AffHousingSf) + tm_bubbles("Units", col = "purple", style = "sd")
tm_shape(Chi_Zipsf) + tm_polygons(col = "gray80") +
tm_shape(AffHousingSf) + tm_bubbles("Units", col = "purple")
